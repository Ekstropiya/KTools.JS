'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _funcs = require('../../shared/funcs');

var _funcs2 = _interopRequireDefault(_funcs);

var _constants = require('../../shared/constants');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var isAboveZero = function isAboveZero(n) {
  return n > 0;
};
var parse = function parse(ts) {
  return parseInt(ts, 10);
};
var isValidParse = function isValidParse(ts) {
  return !isNaN(parse(ts));
};
var isvalidStr = function isvalidStr(ts) {
  return typeof ts === 'string' && isValidParse(ts) && isAboveZero(parse(ts));
};

/**
 * Make timeStamp readable.
 *
 * @param {ts} timeStamp.
 */
var readTs = function readTs(ts) {
  if (ts === undefined || ts === null) return (0, _funcs2.default)(ts);
  var date = false;
  if (isvalidStr(ts)) {
    date = new Date(parse(ts));
  } else if (typeof ts === 'number') {
    if (isAboveZero(ts)) {
      date = new Date(ts);
    }
  }
  if (date) {
    var _ref;

    return _ref = {}, _defineProperty(_ref, _constants.DELAY_LABELS[7], date.getUTCFullYear()), _defineProperty(_ref, _constants.DELAY_LABELS[6], date.getUTCMonth() + 1), _defineProperty(_ref, _constants.DELAY_LABELS[4], date.getUTCDate()), _defineProperty(_ref, _constants.DELAY_LABELS[3], date.getUTCHours()), _defineProperty(_ref, _constants.DELAY_LABELS[2], date.getUTCMinutes()), _defineProperty(_ref, _constants.DELAY_LABELS[1], date.getUTCSeconds()), _ref;
  }
  return (0, _funcs2.default)(ts);
};

exports.default = readTs;