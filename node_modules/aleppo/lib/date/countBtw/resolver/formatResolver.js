'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _splitter = require('../../helper/splitter');

var _splitter2 = _interopRequireDefault(_splitter);

var _timestamp = require('../../helper/generator/timestamp');

var _timestamp2 = _interopRequireDefault(_timestamp);

var _info = require('../../info');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var formatResolver = function formatResolver(inputFormat) {
  var _splitter$formatReque = _splitter2.default.formatRequest(inputFormat),
      formatsArray = _splitter$formatReque.formatsArray;

  // validate length


  if (formatsArray.length === 3 && (formatsArray[0].length === 2 || formatsArray[0].length === 1) && (formatsArray[1].length === 2 || formatsArray[1].length === 1)) {
    // validate values
    var d = parseInt(formatsArray[0], 10);
    var mon = parseInt(formatsArray[1], 10);
    var yr = parseInt(formatsArray[2], 10);
    if (mon >= 0 && mon <= 12 && yr > 0) {
      // more validation? just make sure we are in the right day in month
      var adjustMonth = mon === 0 ? mon : mon - 1;
      if (d > 0 && d <= (0, _info.daysCountInMonth)(adjustMonth, yr, true)) {
        return _timestamp2.default.specificFormat(yr, adjustMonth, d);
      }
    }
  }
  return false;
};

exports.default = formatResolver;